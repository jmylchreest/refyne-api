---
title: Recipe App
description: A recipe book demo that extracts recipes from any URL
---

# Recipe App Demo

The Recipe App demonstrates how to build a practical application using <Refyne />'s **synchronous extraction API**. It allows users to save recipes from any website by automatically extracting ingredients, instructions, cooking photos, and metadata.

<Callout type="info">
  Try it live at [recipeapp-demo.refyne.uk](https://recipeapp-demo.refyne.uk)
</Callout>

<Callout type="note">
  This demo uses the **synchronous extraction pattern** - it makes a direct API call and waits for the response. This is the simplest integration approach, ideal for quick extractions. See the [DIY Viewer](/docs/demos/diy-viewer) for an async approach with progress indicators.
</Callout>

## Features

- **Recipe Extraction**: Paste any recipe URL and extract structured data
- **Recipe Book**: Save and browse your extracted recipes
- **Shopping List**: Add ingredients to a shopping list
- **Author Attribution**: Shows original recipe author with link
- **Step Photos**: Extracts cooking process images for each step
- **Responsive Design**: Works on desktop and mobile

## Schema Definition

The schema tells <Refyne /> exactly what to extract from recipe pages:

<include lang="yaml">../../../../demos/recipeapp/src/lib/refyne.ts#recipe-schema</include>

## API Integration

Install the official TypeScript SDK:

```bash
npm install @refyne/sdk
```

### Synchronous Extraction

The `extract()` method makes a single API call and waits for the result:

<include lang="typescript">../../../../demos/recipeapp/src/lib/refyne.ts#extract-recipe</include>

### Usage in Your App

```typescript
// In your API route or server action
const result = await extractRecipe(
  url,
  process.env.REFYNE_API_URL,
  process.env.REFYNE_API_KEY
);

if (result.success) {
  // Save to database
  await saveRecipe(result.data);
} else {
  // Handle error
  console.error(result.error);
}
```

## Response Example

When you extract a recipe, <Refyne /> returns structured data like this:

```json
{
  "title": "Classic Spaghetti Carbonara",
  "description": "A traditional Italian pasta dish with eggs, cheese, and pancetta",
  "image_url": "https://example.com/carbonara.jpg",
  "author": "Chef Mario",
  "author_url": "https://example.com/chef-mario",
  "prep_time": "10 minutes",
  "cook_time": "20 minutes",
  "total_time": "30 minutes",
  "servings": 4,
  "ingredients": [
    { "name": "spaghetti", "quantity": "400", "unit": "g" },
    { "name": "pancetta", "quantity": "200", "unit": "g", "notes": "cubed" },
    { "name": "eggs", "quantity": "4", "unit": "large" },
    { "name": "Pecorino Romano", "quantity": "100", "unit": "g", "notes": "grated" },
    { "name": "black pepper", "notes": "freshly ground" }
  ],
  "instructions": [
    {
      "step": 1,
      "text": "Bring a large pot of salted water to boil and cook spaghetti until al dente.",
      "image_urls": ["https://example.com/step1.jpg"]
    },
    {
      "step": 2,
      "text": "While pasta cooks, fry pancetta until crispy.",
      "image_urls": ["https://example.com/step2.jpg"]
    },
    { "step": 3, "text": "Whisk eggs with grated cheese and pepper." },
    { "step": 4, "text": "Drain pasta, toss with pancetta, then remove from heat." },
    { "step": 5, "text": "Add egg mixture and toss quickly until creamy." }
  ],
  "nutrition": {
    "calories": "650",
    "protein": "25g",
    "carbs": "75g",
    "fat": "28g"
  },
  "tags": ["Italian", "pasta", "quick", "classic"]
}
```

## When to Use Sync vs Async

| Sync Extract (this demo) | Async Crawler (DIY Viewer) |
|--------------------------|---------------------------|
| Single API call via SDK | Start job, poll for results |
| Best for quick pages | Best for complex pages |
| Blocks until complete | Shows progress to users |
| Simpler error handling | Better timeout handling |

<Callout type="tip">
  For most recipe sites, synchronous extraction completes in a few seconds. If you need to handle longer extractions or want to show progress, see the [DIY Viewer](/docs/demos/diy-viewer) for the async pattern.
</Callout>

## Tech Stack

- **[Astro](https://astro.build/)** - Static site generator with SSR support
- **[Cloudflare Pages](https://pages.cloudflare.com/)** - Hosting with edge functions
- **[Cloudflare D1](https://developers.cloudflare.com/d1/)** - SQLite database at the edge
- **[Tailwind CSS](https://tailwindcss.com/)** - Styling

## Source Code

The complete source code is available in the [refyne-demos](https://github.com/jmylchreest/refyne-demos) repository.

Key files:
- `recipeapp/src/lib/refyne.ts` - <Refyne /> SDK integration and schema
- `recipeapp/src/lib/db.ts` - Database operations
- `recipeapp/src/pages/add.astro` - Recipe extraction page
- `recipeapp/src/pages/recipe/[id].astro` - Recipe detail page
- `recipeapp/src/pages/shopping-list.astro` - Shopping list page

## Try It Yourself

1. Visit [recipeapp-demo.refyne.uk](https://recipeapp-demo.refyne.uk)
2. Click "Add Recipe"
3. Paste a recipe URL from your favorite cooking site
4. See the extracted data and save it to your recipe book
5. Add ingredients to your shopping list
